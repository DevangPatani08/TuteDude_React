import{r as l,j as e,f as x,P as E,g as v,a as W,h as ea,m as aa,i as P,k as ta,l as na,n as ye,A as sa,o as la,p as ra,q as oa,s as me,M as ca,t as ia,F as xe,v as da,w as ma,x as ua,y as ha,c as ue,u as pa,C as fa,R as he,b as ya,d as xa}from"./index-Bwse7Jrn.js";import{C as B}from"./Card-cBn_USUv.js";import{B as pe}from"./Button-CH2PXOLZ.js";function ja(a){const t=l.useRef(a);return t.current=a,t}function va(a){const t=ja(a);l.useEffect(()=>()=>t.current(),[])}function ga(a,t){return l.Children.toArray(a).some(s=>l.isValidElement(s)&&s.type===t)}const Na={type:E.string,tooltip:E.bool,as:E.elementType},J=l.forwardRef(({as:a="div",className:t,type:s="valid",tooltip:r=!1,...o},c)=>e.jsx(a,{...o,ref:c,className:x(t,`${s}-${r?"tooltip":"feedback"}`)}));J.displayName="Feedback";J.propTypes=Na;const I=l.createContext({}),ee=l.forwardRef(({id:a,bsPrefix:t,className:s,type:r="checkbox",isValid:o=!1,isInvalid:c=!1,as:f="input",...h},u)=>{const{controlId:p}=l.useContext(I);return t=v(t,"form-check-input"),e.jsx(f,{...h,ref:u,type:r,id:a||p,className:x(s,t,o&&"is-valid",c&&"is-invalid")})});ee.displayName="FormCheckInput";const K=l.forwardRef(({bsPrefix:a,className:t,htmlFor:s,...r},o)=>{const{controlId:c}=l.useContext(I);return a=v(a,"form-check-label"),e.jsx("label",{...r,ref:o,htmlFor:s||c,className:x(t,a)})});K.displayName="FormCheckLabel";const je=l.forwardRef(({id:a,bsPrefix:t,bsSwitchPrefix:s,inline:r=!1,reverse:o=!1,disabled:c=!1,isValid:f=!1,isInvalid:h=!1,feedbackTooltip:u=!1,feedback:p,feedbackType:y,className:g,style:C,title:k="",type:F="checkbox",label:R,children:w,as:N="input",...O},A)=>{t=v(t,"form-check"),s=v(s,"form-switch");const{controlId:S}=l.useContext(I),G=l.useMemo(()=>({controlId:a||S}),[S,a]),L=!w&&R!=null&&R!==!1||ga(w,K),H=e.jsx(ee,{...O,type:F==="switch"?"checkbox":F,ref:A,isValid:f,isInvalid:h,disabled:c,as:N});return e.jsx(I.Provider,{value:G,children:e.jsx("div",{style:C,className:x(g,L&&t,r&&`${t}-inline`,o&&`${t}-reverse`,F==="switch"&&s),children:w||e.jsxs(e.Fragment,{children:[H,L&&e.jsx(K,{title:k,children:R}),p&&e.jsx(J,{type:y,tooltip:u,children:p})]})})})});je.displayName="FormCheck";const _=Object.assign(je,{Input:ee,Label:K}),ve=l.forwardRef(({bsPrefix:a,type:t,size:s,htmlSize:r,id:o,className:c,isValid:f=!1,isInvalid:h=!1,plaintext:u,readOnly:p,as:y="input",...g},C)=>{const{controlId:k}=l.useContext(I);return a=v(a,"form-control"),e.jsx(y,{...g,type:t,size:r,ref:C,readOnly:p,id:o||k,className:x(c,u?`${a}-plaintext`:a,s&&`${a}-${s}`,t==="color"&&`${a}-color`,f&&"is-valid",h&&"is-invalid")})});ve.displayName="FormControl";const Ca=Object.assign(ve,{Feedback:J}),ge=l.forwardRef(({className:a,bsPrefix:t,as:s="div",...r},o)=>(t=v(t,"form-floating"),e.jsx(s,{ref:o,className:x(a,t),...r})));ge.displayName="FormFloating";const ae=l.forwardRef(({controlId:a,as:t="div",...s},r)=>{const o=l.useMemo(()=>({controlId:a}),[a]);return e.jsx(I.Provider,{value:o,children:e.jsx(t,{...s,ref:r})})});ae.displayName="FormGroup";const Ne=l.forwardRef(({as:a="label",bsPrefix:t,column:s=!1,visuallyHidden:r=!1,className:o,htmlFor:c,...f},h)=>{const{controlId:u}=l.useContext(I);t=v(t,"form-label");let p="col-form-label";typeof s=="string"&&(p=`${p} ${p}-${s}`);const y=x(o,t,r&&"visually-hidden",s&&p);return c=c||u,s?e.jsx(W,{ref:h,as:"label",className:y,htmlFor:c,...f}):e.jsx(a,{ref:h,className:y,htmlFor:c,...f})});Ne.displayName="FormLabel";const Ce=l.forwardRef(({bsPrefix:a,className:t,id:s,...r},o)=>{const{controlId:c}=l.useContext(I);return a=v(a,"form-range"),e.jsx("input",{...r,type:"range",ref:o,className:x(t,a),id:s||c})});Ce.displayName="FormRange";const be=l.forwardRef(({bsPrefix:a,size:t,htmlSize:s,className:r,isValid:o=!1,isInvalid:c=!1,id:f,...h},u)=>{const{controlId:p}=l.useContext(I);return a=v(a,"form-select"),e.jsx("select",{...h,size:s,ref:u,className:x(r,a,t&&`${a}-${t}`,o&&"is-valid",c&&"is-invalid"),id:f||p})});be.displayName="FormSelect";const ke=l.forwardRef(({bsPrefix:a,className:t,as:s="small",muted:r,...o},c)=>(a=v(a,"form-text"),e.jsx(s,{...o,ref:c,className:x(t,a,r&&"text-muted")})));ke.displayName="FormText";const we=l.forwardRef((a,t)=>e.jsx(_,{...a,ref:t,type:"switch"}));we.displayName="Switch";const ba=Object.assign(we,{Input:_.Input,Label:_.Label}),Fe=l.forwardRef(({bsPrefix:a,className:t,children:s,controlId:r,label:o,...c},f)=>(a=v(a,"form-floating"),e.jsxs(ae,{ref:f,className:x(t,a),controlId:r,...c,children:[s,e.jsx("label",{htmlFor:r,children:o})]})));Fe.displayName="FloatingLabel";const ka={_ref:E.any,validated:E.bool,as:E.elementType},te=l.forwardRef(({className:a,validated:t,as:s="form",...r},o)=>e.jsx(s,{...r,ref:o,className:x(a,t&&"was-validated")}));te.displayName="Form";te.propTypes=ka;const i=Object.assign(te,{Group:ae,Control:Ca,Floating:ge,Check:_,Switch:ba,Label:Ne,Text:ke,Range:Ce,Select:be,FloatingLabel:Fe}),Me=l.forwardRef(({bsPrefix:a,active:t,disabled:s,eventKey:r,className:o,variant:c,action:f,as:h,...u},p)=>{a=v(a,"list-group-item");const[y,g]=ea({key:aa(r,u.href),active:t,...u}),C=P(F=>{if(s){F.preventDefault(),F.stopPropagation();return}y.onClick(F)});s&&u.tabIndex===void 0&&(u.tabIndex=-1,u["aria-disabled"]=!0);const k=h||(f?u.href?"a":"button":"div");return e.jsx(k,{ref:p,...u,...y,onClick:C,className:x(o,a,g.isActive&&"active",s&&"disabled",c&&`${a}-${c}`,f&&`${a}-action`)})});Me.displayName="ListGroupItem";const Ie=l.forwardRef((a,t)=>{const{className:s,bsPrefix:r,variant:o,horizontal:c,numbered:f,as:h="div",...u}=ta(a,{activeKey:"onSelect"}),p=v(r,"list-group");let y;return c&&(y=c===!0?"horizontal":`horizontal-${c}`),e.jsx(na,{ref:t,...u,as:h,className:x(s,p,o&&`${p}-${o}`,y&&`${p}-${y}`,f&&`${p}-numbered`)})});Ie.displayName="ListGroup";const D=Object.assign(Ie,{Item:Me});var Y;function fe(a){if((!Y&&Y!==0||a)&&ye){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Y=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Y}function wa(){return l.useState(null)}const Re=l.forwardRef(({className:a,bsPrefix:t,as:s="div",...r},o)=>(t=v(t,"modal-body"),e.jsx(s,{ref:o,className:x(a,t),...r})));Re.displayName="ModalBody";const ne=l.forwardRef(({bsPrefix:a,className:t,contentClassName:s,centered:r,size:o,fullscreen:c,children:f,scrollable:h,...u},p)=>{a=v(a,"modal");const y=`${a}-dialog`,g=typeof c=="string"?`${a}-fullscreen-${c}`:`${a}-fullscreen`;return e.jsx("div",{...u,ref:p,className:x(y,t,o&&`${a}-${o}`,r&&`${y}-centered`,h&&`${y}-scrollable`,c&&g),children:e.jsx("div",{className:x(`${a}-content`,s),children:f})})});ne.displayName="ModalDialog";const $e=l.forwardRef(({className:a,bsPrefix:t,as:s="div",...r},o)=>(t=v(t,"modal-footer"),e.jsx(s,{ref:o,className:x(a,t),...r})));$e.displayName="ModalFooter";const Se=l.forwardRef(({bsPrefix:a,className:t,closeLabel:s="Close",closeButton:r=!1,...o},c)=>(a=v(a,"modal-header"),e.jsx(sa,{ref:c,...o,className:x(t,a),closeLabel:s,closeButton:r})));Se.displayName="ModalHeader";const Fa=la("h4"),Le=l.forwardRef(({className:a,bsPrefix:t,as:s=Fa,...r},o)=>(t=v(t,"modal-title"),e.jsx(s,{ref:o,className:x(a,t),...r})));Le.displayName="ModalTitle";function Ma(a){return e.jsx(xe,{...a,timeout:null})}function Ia(a){return e.jsx(xe,{...a,timeout:null})}const Te=l.forwardRef(({bsPrefix:a,className:t,style:s,dialogClassName:r,contentClassName:o,children:c,dialogAs:f=ne,"data-bs-theme":h,"aria-labelledby":u,"aria-describedby":p,"aria-label":y,show:g=!1,animation:C=!0,backdrop:k=!0,keyboard:F=!0,onEscapeKeyDown:R,onShow:w,onHide:N,container:O,autoFocus:A=!0,enforceFocus:S=!0,restoreFocus:G=!0,restoreFocusOptions:L,onEntered:H,onExit:n,onExiting:d,onEnter:b,onEntering:j,onExited:M,backdropClassName:$,manager:V,...Be},De)=>{const[Ee,Oe]=l.useState({}),[Ae,se]=l.useState(!1),Q=l.useRef(!1),X=l.useRef(!1),q=l.useRef(null),[z,Ge]=wa(),He=ra(De,Ge),le=P(N),Ve=oa();a=v(a,"modal");const qe=l.useMemo(()=>({onHide:le}),[le]);function re(){return V||da({isRTL:Ve})}function oe(m){if(!ye)return;const T=re().getScrollbarWidth()>0,de=m.scrollHeight>ua(m).documentElement.clientHeight;Oe({paddingRight:T&&!de?fe():void 0,paddingLeft:!T&&de?fe():void 0})}const Z=P(()=>{z&&oe(z.dialog)});va(()=>{me(window,"resize",Z),q.current==null||q.current()});const ze=()=>{Q.current=!0},Ue=m=>{Q.current&&z&&m.target===z.dialog&&(X.current=!0),Q.current=!1},ce=()=>{se(!0),q.current=ha(z.dialog,()=>{se(!1)})},We=m=>{m.target===m.currentTarget&&ce()},Ye=m=>{if(k==="static"){We(m);return}if(X.current||m.target!==m.currentTarget){X.current=!1;return}N?.()},Ke=m=>{F?R?.(m):(m.preventDefault(),k==="static"&&ce())},_e=(m,T)=>{m&&oe(m),b?.(m,T)},Je=m=>{q.current==null||q.current(),n?.(m)},Qe=(m,T)=>{j?.(m,T),ma(window,"resize",Z)},Xe=m=>{m&&(m.style.display=""),M?.(m),me(window,"resize",Z)},Ze=l.useCallback(m=>e.jsx("div",{...m,className:x(`${a}-backdrop`,$,!C&&"show")}),[C,$,a]),ie={...s,...Ee};ie.display="block";const Pe=m=>e.jsx("div",{role:"dialog",...m,style:ie,className:x(t,a,Ae&&`${a}-static`,!C&&"show"),onClick:k?Ye:void 0,onMouseUp:Ue,"data-bs-theme":h,"aria-label":y,"aria-labelledby":u,"aria-describedby":p,children:e.jsx(f,{...Be,onMouseDown:ze,className:r,contentClassName:o,children:c})});return e.jsx(ca.Provider,{value:qe,children:e.jsx(ia,{show:g,ref:He,backdrop:k,container:O,keyboard:!0,autoFocus:A,enforceFocus:S,restoreFocus:G,restoreFocusOptions:L,onEscapeKeyDown:Ke,onShow:w,onHide:N,onEnter:_e,onEntering:Qe,onEntered:H,onExit:Je,onExiting:d,onExited:Xe,manager:re(),transition:C?Ma:void 0,backdropTransition:C?Ia:void 0,renderBackdrop:Ze,renderDialog:Pe})})});Te.displayName="Modal";const U=Object.assign(Te,{Body:Re,Header:Se,Title:Le,Footer:$e,Dialog:ne,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),La=()=>{const a=ue(n=>n.cart.items),t=ue(n=>n.cart.totalAmount),s=pa(),[r,o]=l.useState(""),[c,f]=l.useState(!1),[h,u]=l.useState({number:"",name:"",expiry:"",cvv:""}),[p,y]=l.useState(""),[g,C]=l.useState({accountNumber:"",accountName:"",bankName:""}),[k,F]=l.useState(!1),[R,w]=l.useState({}),N=n=>{const{name:d,value:b}=n.target;if(w(j=>({...j,[d]:""})),d==="number"){const M=b.replace(/\D/g,"").replace(/(.{4})/g,"$1 ").trim();u($=>({...$,[d]:M}))}else if(d==="expiry"){let j=b.replace(/\D/g,"");j.length>2&&(j=`${j.slice(0,2)}/${j.slice(2,4)}`),u(M=>({...M,[d]:j}))}else if(d==="cvv"){let j=b.replace(/\D/g,"").slice(0,3);u(M=>({...M,[d]:j}))}else d==="name"?u(j=>({...j,[d]:b})):d==="paypalEmail"?y(b):C(j=>({...j,[d]:b}))},O=n=>{switch(r){case"credit-card":return e.jsxs("div",{className:"mt-3 p-3 border rounded",children:[e.jsx("h6",{children:"Credit Card Details"}),e.jsxs(i.Group,{className:"mb-3  mt-3",children:[e.jsx(i.Label,{children:"Card Number"}),e.jsx(i.Control,{type:"text",placeholder:"1234 5678 9102 3456",name:"number",value:h.number,maxLength:"19",onChange:N,isInvalid:!!n.number,required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.number})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Card Holder Name"}),e.jsx(i.Control,{type:"text",placeholder:"Jhon Doe",name:"name",value:h.name,onChange:N,isInvalid:!!n.name,required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.name})]}),e.jsxs(he,{children:[e.jsx(W,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Expiry Date"}),e.jsx(i.Control,{type:"text",placeholder:"MM/YY",name:"expiry",value:h.expiry,maxLength:"5",onChange:N,isInvalid:!!n.expiry,required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.expiry})]})}),e.jsx(W,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"CVV"}),e.jsx(i.Control,{type:"text",placeholder:"123",name:"cvv",value:h.cvv,maxLength:"3",onChange:N,isInvalid:!!n.cvv,required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.cvv})]})})]})]});case"paypal":return e.jsxs("div",{className:"mt-3 p-3 border rounded",children:[e.jsx("h6",{children:"PayPal Details"}),e.jsxs(i.Group,{className:"mb-3 mt-3",children:[e.jsx(i.Label,{children:"PayPal Email"}),e.jsx(i.Control,{type:"email",placeholder:"your@email.com",value:p,onChange:d=>y(d.target.value),isInvalid:!!n.paypalEmail,required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.paypalEmail})]})]});case"bank-transfer":return e.jsxs("div",{className:"mt-3 p-3 border rounded",children:[e.jsx("h6",{children:"Bank Transfer Details"}),e.jsxs(i.Group,{className:"mb-3 mt-3",children:[e.jsx(i.Label,{children:"Bank Name"}),e.jsxs(i.Select,{name:"bankName",value:g.bankName,onChange:N,isInvalid:!!n.bankName,required:!0,children:[e.jsx("option",{value:"",children:"Select a bank"}),e.jsx("option",{value:"Chase Bank",children:"Chase Bank"}),e.jsx("option",{value:"Bank of America",children:"Bank of America"}),e.jsx("option",{value:"Wells Fargo",children:"Wells Fargo"}),e.jsx("option",{value:"Citibank",children:"Citibank"}),e.jsx("option",{value:"HSBC",children:"HSBC"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.bankName})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Account Number"}),e.jsx(i.Control,{type:"text",placeholder:"1234567890",name:"accountNumber",value:g.accountNumber,maxLength:"10",onChange:N,isInvalid:!!n.accountNumber,required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.accountNumber})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Account Holder Name"}),e.jsx(i.Control,{type:"text",placeholder:"Jhon Doe",name:"accountName",value:g.accountName,onChange:N,isInvalid:!!n.accountName,required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.accountName})]})]});case"cash-on-delivery":return e.jsxs("div",{className:"mt-3 p-3 border rounded",children:[e.jsx("h6",{children:"Cash on Delivery"}),e.jsx("p",{className:"mt-3",children:"Pay with cash when your order is delivered."})]});default:return null}},A=n=>{const[d,b]=n.split("/");if(!d||!b||d.length!==2||b.length!==2)return!1;const j=parseInt(new Date().getFullYear().toString().slice(2),10),M=parseInt(new Date().getMonth().toString()+1,10),$=parseInt(d,10),V=parseInt(b,10);return!($<1||$>12||V<j||V===j&&$<M)},S=()=>{const n={};let d=!0;switch(r){case"credit-card":h.number.replace(/\s/g,"").length!==16&&(n.number="Please enter a valid 16-digit card number.",d=!1),h.name.trim().split(/\s+/).length<2&&(n.name="Please enter a first and last name.",d=!1),A(h.expiry)||(n.expiry="Please enter a valid expiry date (MM/YY) that is not in the past.",d=!1),h.cvv.length!==3&&(n.cvv="CVV must be exactly 3 digits.",d=!1);break;case"paypal":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)||(n.paypalEmail="Please enter a valid email address.",d=!1);break;case"bank-transfer":g.bankName.trim()||(n.bankName="Please select a bank from the list.",d=!1),g.accountNumber.length!==10&&(n.accountNumber="Account number must be exactly 10 digits.",d=!1),g.accountName.trim().split(/\s+/).length<2&&(n.accountName="Please enter a first and last name.",d=!1);break;case"cash-on-delivery":break;default:n.paymentMethod="Please select a payment method.",d=!1}return w(n),d},G=n=>{if(n.preventDefault(),F(!0),a.length===0){alert("Your cart is empty! Please add items before checking out.");return}S()&&f(!0)},L=()=>{f(!1)},H=()=>{s(xa.clearCart()),f(!1)};return e.jsxs(fa,{className:"my-5",children:[e.jsx("h1",{className:"mb-4",children:"Checkout"}),e.jsxs(he,{children:[e.jsx(W,{lg:8,className:"mb-4",children:e.jsxs(B,{className:"mb-4",children:[e.jsx(B.Header,{as:"h5",children:"Order Summary"}),e.jsx(B.Body,{children:e.jsxs(D,{variant:"flush",children:[a.map(n=>e.jsxs(D.Item,{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"fw-bold",children:n.name}),e.jsxs("span",{className:"text-muted ms-2",children:["x",n.quantity]})]}),e.jsxs("span",{children:["$",n.totalPrice.toFixed(2)]})]},n.id)),e.jsxs(D.Item,{className:"d-flex justify-content-between fw-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",t.toFixed(2)]})]})]})})]})}),e.jsx(W,{lg:4,children:e.jsxs(B,{children:[e.jsx(B.Header,{as:"h5",children:"Payment Method"}),e.jsx(B.Body,{children:e.jsxs(i,{noValidate:!0,validated:k,onSubmit:G,children:[e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Select Payment Method"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(i.Check,{type:"radio",id:"credit-card",label:"Credit Card",name:"paymentMethod",value:"credit-card",checked:r==="credit-card",onChange:n=>{o(n.target.value),w({})},className:"mb-2"}),e.jsx(i.Check,{type:"radio",id:"paypal",label:"Paypal",name:"paymentMethod",value:"paypal",checked:r==="paypal",onChange:n=>{o(n.target.value),w({})},className:"mb-2"}),e.jsx(i.Check,{type:"radio",id:"bank-transfer",label:"Bank Transfer",name:"paymentMethod",value:"bank-transfer",checked:r==="bank-transfer",onChange:n=>{o(n.target.value),w({})},className:"mb-2"}),e.jsx(i.Check,{type:"radio",id:"cash-on-delivery",label:"Cash On Delivery",name:"paymentMethod",value:"cash-on-delivery",checked:r==="cash-on-delivery",onChange:n=>{o(n.target.value),w({})},className:"mb-2"})]})]}),O(R),e.jsx(pe,{type:"submit",variant:"danger",size:"lg",className:"w-100 mt-3",children:"Complete Payment"})]})})]})})]}),e.jsxs(U,{show:c,onHide:L,centered:!0,children:[e.jsx(U.Header,{closeButton:!0,children:e.jsx(U.Title,{children:"Order Confirmed!"})}),e.jsxs(U.Body,{children:[e.jsx("p",{children:"Thank you for your purchase!"}),e.jsxs("p",{children:["Your order number is #",Math.floor(Math.random()*1e6)]}),e.jsxs(D,{variant:"flush",children:[a.map(n=>e.jsxs(D.Item,{children:[n.name," x ",n.quantity," - $",n.totalPrice.toFixed(2)]},n.id)),e.jsxs(D.Item,{className:"fw-bold",children:["Total: $",t.toFixed(2)]})]}),e.jsxs("p",{className:"mt-3",children:["Payment Method: ",r.replace(/-/g," ")]})]}),e.jsx(U.Footer,{className:"justify-content-center",children:e.jsx(pe,{variant:"success",as:ya,to:"/",onClick:H,children:"Back to Home"})})]})]})};export{La as default};
