import{D as v,E as M,r as h,g as B,H as I,I as k,j as s,f as C,u as E,J as $,c as S,L as T,C as p,b as u,R as A,a as g,B as f,d as j}from"./index-Bwse7Jrn.js";/* empty css                        */import{b as z}from"./api-CUGZEuPj.js";import{B as x}from"./Button-CH2PXOLZ.js";import{I as L}from"./Image-BOP1ENdF.js";function R(n,e=v,m=M){const i=[];return Object.entries(n).forEach(([l,t])=>{t!=null&&(typeof t=="object"?e.forEach(r=>{const c=t[r];if(c!=null){const d=r!==m?`-${r}`:"";i.push(`${l}${d}-${c}`)}}):i.push(`${l}-${t}`))}),i}const N=h.forwardRef(({as:n="div",bsPrefix:e,className:m,direction:i,gap:l,...t},r)=>{e=B(e,i==="horizontal"?"hstack":"vstack");const c=I(),d=k();return s.jsx(n,{...t,ref:r,className:C(m,e,...R({gap:l},c,d))})});N.displayName="Stack";const q=()=>{const n=E(),[e,m]=h.useState(null),[i,l]=h.useState(!0),{id:t}=$(),r=S(a=>a.cart.items.find(o=>o.id===t)),c=r?r.quantity:0;if(h.useEffect(()=>{(async()=>{try{const o=await z(t);m(o),l(!1)}catch(o){console.error("Error loading meal: ",o),l(!1)}})()},[t]),i)return s.jsx(T,{});if(!e)return s.jsxs(p,{className:"text-center py-5",children:[s.jsx("h2",{className:"mb-3",children:"Meal Not Found"}),s.jsx(x,{as:u,to:"/menu",variant:"primary",children:"Back to Menu"})]});const d=[];for(let a=0;a<=20;a++)e[`strIngredient${a}`]&&d.push({ingredient:e[`strIngredient${a}`],measure:e[`strMeasure${a}`]});const b=()=>{n(j.addItem({id:e.idMeal,name:e.strMeal,price:9.99,image:e.strMealThumb,category:e.strCategory}))},y=()=>{n(j.addItem({id:e.idMeal}))},w=()=>{n(j.removeItem(e.idMeal))};return s.jsxs(p,{className:"py-3 pb-6",children:[s.jsxs(x,{as:u,to:"/menu",variant:"outline-secondary",size:"sm",className:"mb-3 d-flex align-items-center gap-1 px-3",style:{width:"fit-content"},children:[s.jsx("i",{className:"bi bi-arrow-left-short",style:{fontSize:"1.5rem"}}),s.jsx("span",{className:"fw-bold",children:"Back To Menu"})]}),s.jsxs(A,{className:"g-4",children:[s.jsx(g,{md:7,children:s.jsx(L,{src:e.strMealThumb,alt:e.strMeal,fluid:!0,rounded:!0,className:"shadow-sm w-100",style:{maxHeight:"640px",objectFit:"cover",border:"1px solid #f0f0f0"}})}),s.jsx(g,{md:5,children:s.jsxs(N,{gap:3,children:[s.jsxs("div",{children:[s.jsx("h1",{className:"h3 fw-bold mb-2",children:e.strMeal}),s.jsxs("div",{children:[s.jsx(f,{bg:"secondary",className:"me-2",children:e.strCategory}),s.jsx(f,{bg:"info",children:e.strArea})]})]}),s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsx("span",{className:"fs-4 fw-bold text-danger",children:"$9.99"}),s.jsx("span",{className:"text-muted",children:"|"}),s.jsxs("span",{className:"text-muted",children:[d.length," ingredients"]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"fw-bold mb-2",children:"Ingredients"}),s.jsx("div",{className:"d-flex flex-wrap gap-2",children:d.map((a,o)=>s.jsxs(f,{bg:"light",text:"dark",className:"border px-3 py-2",children:[a.ingredient," ",s.jsxs("span",{className:"text-muted",children:["(",a.measure,")"]})]},o))})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"fw-bold mb-2",children:"Instructions"}),s.jsx("div",{className:"text-muted",style:{whiteSpace:"pre-line"},children:e.strInstructions})]})]})})]}),s.jsx("div",{className:"bg-white p-3 border-top shadow-sm",style:{position:"sticky",bottom:"0",marginBottom:"2rem"},children:s.jsx(p,{children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"mb-0",children:e.strMeal}),s.jsx("span",{className:"text-danger fw-bold fs-5",children:"$9.99"})]}),c===0?s.jsx(x,{variant:"danger",size:"lg",onClick:b,className:"px-4 py-2 fw-bold",children:"Add to Cart"}):s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsx(x,{variant:"outline-danger",size:"lg",onClick:w,className:"px-4 py-2 fw-bold",children:s.jsx("i",{className:"bi bi-dash"})}),s.jsx("span",{className:"fw-bold px-4 fs-5",children:c}),s.jsx(x,{variant:"outline-danger",size:"lg",onClick:y,className:"px-4 py-2 fw-bold",children:s.jsx("i",{className:"bi bi-plus"})})]})]})})})]})};export{q as default};
