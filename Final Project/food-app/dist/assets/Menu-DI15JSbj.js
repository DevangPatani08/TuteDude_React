import{G as z,u as I,r,c as H,j as e,B as A,b as B,d as M,e as T,C as Y,N as S,S as W,R as $,a as q}from"./index-Bwse7Jrn.js";import{f as D,a as G}from"./api-CUGZEuPj.js";/* empty css                        */import{C as y}from"./Card-cBn_USUv.js";import{B as u}from"./Button-CH2PXOLZ.js";function F(t){return z({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"},child:[]}]})(t)}function K(t){return z({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"},child:[]}]})(t)}const O=({meal:t})=>{const m=I(),[a,g]=r.useState(!1),c=H(j=>j.cart.items.find(v=>v.id===t.idMeal)),x=c?c.quantity:0,i=()=>{m(M.addItem({id:t.idMeal,name:t.strMeal,price:9.99,image:t.strMealThumb,category:t.strCategory}))},f=()=>{m(M.addItem({id:t.idMeal}))},b=()=>{m(M.removeItem(t.idMeal))};return e.jsxs(y,{className:"h-100 border-0 overflow-hidden",style:{transition:"all 0.4s cubic-bezier(0.16, 1, 0.3, 1)",transform:a?"translateY(-8px)":"none",boxShadow:a?"0 12px 24px rgba(0,0,0,0.1)":"0 4px 12px rgba(0,0,0,0.05)"},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[e.jsxs("div",{className:"position-relative overflow-hidden",style:{height:"200px"},children:[e.jsx(y.Img,{variant:"top",src:t.strMealThumb,alt:t.strMeal,style:{height:"100%",width:"100%",objectFit:"cover",transform:a?"scale(1.05)":"scale(1)",transition:"all 0.6s cubic-bezier(0.16, 1, 0.3, 1)"}}),e.jsx(A,{bg:"light",text:"dark",className:"position-absolute top-0 end-0 m-2 px-2 py-1 rounded-pill",style:{transition:"all 0.3s ease",opacity:a?1:.8,transform:a?"translateY(0)":"translateY(-10px)"},children:t.strCategory})]}),e.jsxs(y.Body,{className:"d-flex flex-column p-3",children:[e.jsx(y.Title,{className:"mb-2 fw-bold",style:{minHeight:"48px",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:t.strMeal}),e.jsx("div",{className:"mt-auto",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("span",{className:"fs-4 fw-bold text-danger",children:"$9.99"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(u,{as:B,to:`/food/${t.idMeal}`,variant:"outline-secondary",size:"sm",className:"d-flex align-items-center gap-1 px-3",style:{transform:a?"translateY(-2px)":"none",transition:"all 0.2s ease"},onClick:()=>{window.scrollTo(0,0)},children:[e.jsx("i",{className:"bi bi-eye-fill"}),e.jsx("span",{children:"Details"})]}),x===0?e.jsxs(u,{variant:"danger",size:"sm",className:"d-flex align-items-center gap-1 px-3",style:{transform:a?"translateY(-2px)":"none",transition:"all 0.2s ease"},onClick:i,children:[e.jsx("i",{className:"bi bi-cart-plus-fill"}),e.jsx("span",{children:"Add"})]}):e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(u,{variant:"outline-danger",size:"sm",onClick:b,style:{transform:a?"translateY(-2px)":"none",transition:"all 0.2s ease"},children:e.jsx("i",{className:"bi bi-dash"})}),e.jsx("span",{className:"fw-bold px-1",children:x}),e.jsx(u,{variant:"outline-danger",size:"sm",onClick:f,style:{transform:a?"translateY(-2px)":"none",transition:"all 0.2s ease"},children:e.jsx("i",{className:"bi bi-plus"})})]})]})]})})]})]})},Z=()=>{const[t,m]=r.useState([]),[a,g]=r.useState([]),[c,x]=r.useState(!0),[i,f]=r.useState(""),[b,j]=r.useState(!1),[v,R]=r.useState(!0),d=r.useRef(null),p=r.useRef(null),L=T(),w=()=>{if(d.current){const{scrollLeft:s,scrollWidth:l,clientWidth:h}=d.current;j(s>0),R(s<l-h-1)}},k=s=>{d.current&&d.current.scrollBy({left:s==="left"?-200:200,behavior:"smooth"})};return r.useEffect(()=>{(async()=>{const l=await D(),h=l.find(o=>o.strCategory==="Miscellaneous"),n=[...l.filter(o=>o.strCategory!=="Miscellaneous").sort((o,E)=>o.strCategory.localeCompare(E.strCategory))];h&&n.push(h),m(n);const C=new URLSearchParams(L.search).get("category");C&&n.some(o=>o.strCategory===C)?f(C):n.length>0&&f(n[0].strCategory)})()},[L.search]),r.useEffect(()=>{(async()=>{if(i){x(!0);const l=await G(i);g(l),x(!1)}})()},[i]),r.useEffect(()=>{const s=d.current;return s&&(s.addEventListener("scroll",w),w()),()=>{s&&s.removeEventListener("scroll",w)}},[t]),r.useEffect(()=>{if(p.current){const s=p.current.querySelectorAll(".food-card");if(s.length>0){const l=s[0].offsetHeight,h=parseInt(getComputedStyle(p.current).gap),N=Math.ceil(s.length/4),n=l*N+h*(N-1);p.current.style.minHeight=`${n}`}}},[a]),e.jsxs(Y,{className:"my-5 position-relative",style:{minHeight:"100vh"},children:[e.jsxs(u,{as:B,to:"/",variant:"outline-secondary",size:"sm",className:"mb-3 d-flex align-items-center gap-1 px-3",style:{width:"fit-content"},children:[e.jsx("i",{className:"bi bi-arrow-left-short",style:{fontSize:"1.5rem"}}),e.jsx("span",{className:"fw-bold",children:"Back to Home"})]}),e.jsxs("div",{className:"text-center mb-5",children:[e.jsx("h1",{className:"display-4 fw-bold mb-3",children:"Our Menu"}),e.jsx("p",{className:"text-muted",children:"Discover delicious meals from every category"})]}),e.jsxs("div",{className:"position-relative",children:[b&&e.jsx("button",{onClick:()=>k("left"),"aria-label":"Scroll left",className:"position-absolute start-0 top-50 translate-middle-y bg-white border-0 rounded-circle shadow-sm p-2 z-1",style:{left:"-15px"},children:e.jsx(F,{size:24})}),e.jsx(S,{ref:d,variant:"pills",activeKey:i,onSelect:s=>f(s),className:"flex-nowrap mb-5 pb-2 overflow-auto scroll-hidden",style:{scrollbarWidth:"none",scrollBehavior:"smooth"},children:t.map(s=>e.jsx(S.Item,{className:"flex-shrink-0 px-1",children:e.jsx(S.Link,{eventKey:s.strCategory,className:"text-nowrap rounded-pill px-3 py-2",style:{fontWeight:500,color:i===s.strCategory?"white":"inherit",whiteSpace:"nowrap"},onClick:()=>{window.scrollTo(0,0)},children:s.strCategory})},s.strCategory))}),v&&e.jsx("button",{onClick:()=>k("right"),className:"position-absolute end-0 top-50 translate-middle-y bg-white border-0 rounded-circle shadow-sm p-2 z-1",style:{right:"-15px"},"aria-label":"Scroll right",children:e.jsx(K,{size:24})})]}),e.jsxs("div",{ref:p,className:"position-relative",children:[c?e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-white",style:{zIndex:1},children:e.jsxs("div",{className:"text-center",children:[e.jsx(W,{animation:"border",variant:"danger",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-3 text-muted",children:"Loading delicious meals..."})]})}):null,e.jsxs("div",{className:`transition-opacity ${c?"opacity-50":"opacity-100"}`,children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("h2",{className:"mb-0",children:i}),e.jsxs("small",{className:"text-muted",children:[a.length," items"]})]}),e.jsx($,{xs:1,md:2,lg:3,xxl:4,className:"g-4",children:a.map(s=>e.jsx(q,{className:"food-card",children:e.jsx(O,{meal:s})},s.idMeal))}),a.length===0&&!c&&e.jsxs("div",{className:"text-center py-5 my-5",children:[e.jsx("h4",{className:"text-muted",children:"No meals found in this category"}),e.jsx("p",{children:"Try selecting a different category"})]})]})]})]})};export{Z as default};
