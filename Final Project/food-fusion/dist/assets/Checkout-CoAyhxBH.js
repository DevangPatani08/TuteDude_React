import{r,j as e,h as y,P as O,e as v,b as W,n as ea,o as aa,p as P,q as ta,s as na,t as ye,A as sa,v as la,w as ra,x as oa,y as ue,M as ca,z as ia,F as xe,E as da,H as ua,I as ma,J as ha,a as me,u as pa,C as fa,R as he,L as ya,c as xa}from"./index-Dh5kSsyb.js";import{C as E}from"./Card-CGnbGSXE.js";import{B as pe}from"./Button-JUqdbHoz.js";function ja(a){const t=r.useRef(a);return t.current=a,t}function va(a){const t=ja(a);r.useEffect(()=>()=>t.current(),[])}function ga(a,t){return r.Children.toArray(a).some(s=>r.isValidElement(s)&&s.type===t)}const Na={type:O.string,tooltip:O.bool,as:O.elementType},J=r.forwardRef(({as:a="div",className:t,type:s="valid",tooltip:l=!1,...o},c)=>e.jsx(a,{...o,ref:c,className:y(t,`${s}-${l?"tooltip":"feedback"}`)}));J.displayName="Feedback";J.propTypes=Na;const M=r.createContext({}),ee=r.forwardRef(({id:a,bsPrefix:t,className:s,type:l="checkbox",isValid:o=!1,isInvalid:c=!1,as:h="input",...x},p)=>{const{controlId:d}=r.useContext(M);return t=v(t,"form-check-input"),e.jsx(h,{...x,ref:p,type:l,id:a||d,className:y(s,t,o&&"is-valid",c&&"is-invalid")})});ee.displayName="FormCheckInput";const K=r.forwardRef(({bsPrefix:a,className:t,htmlFor:s,...l},o)=>{const{controlId:c}=r.useContext(M);return a=v(a,"form-check-label"),e.jsx("label",{...l,ref:o,htmlFor:s||c,className:y(t,a)})});K.displayName="FormCheckLabel";const je=r.forwardRef(({id:a,bsPrefix:t,bsSwitchPrefix:s,inline:l=!1,reverse:o=!1,disabled:c=!1,isValid:h=!1,isInvalid:x=!1,feedbackTooltip:p=!1,feedback:d,feedbackType:f,className:b,style:N,title:g="",type:F="checkbox",label:I,children:k,as:R="input",...A},w)=>{t=v(t,"form-check"),s=v(s,"form-switch");const{controlId:L}=r.useContext(M),G=r.useMemo(()=>({controlId:a||L}),[L,a]),T=!k&&I!=null&&I!==!1||ga(k,K),q=e.jsx(ee,{...A,type:F==="switch"?"checkbox":F,ref:w,isValid:h,isInvalid:x,disabled:c,as:R});return e.jsx(M.Provider,{value:G,children:e.jsx("div",{style:N,className:y(b,T&&t,l&&`${t}-inline`,o&&`${t}-reverse`,F==="switch"&&s),children:k||e.jsxs(e.Fragment,{children:[q,T&&e.jsx(K,{title:g,children:I}),d&&e.jsx(J,{type:f,tooltip:p,children:d})]})})})});je.displayName="FormCheck";const _=Object.assign(je,{Input:ee,Label:K}),ve=r.forwardRef(({bsPrefix:a,type:t,size:s,htmlSize:l,id:o,className:c,isValid:h=!1,isInvalid:x=!1,plaintext:p,readOnly:d,as:f="input",...b},N)=>{const{controlId:g}=r.useContext(M);return a=v(a,"form-control"),e.jsx(f,{...b,type:t,size:l,ref:N,readOnly:d,id:o||g,className:y(c,p?`${a}-plaintext`:a,s&&`${a}-${s}`,t==="color"&&`${a}-color`,h&&"is-valid",x&&"is-invalid")})});ve.displayName="FormControl";const Ca=Object.assign(ve,{Feedback:J}),ge=r.forwardRef(({className:a,bsPrefix:t,as:s="div",...l},o)=>(t=v(t,"form-floating"),e.jsx(s,{ref:o,className:y(a,t),...l})));ge.displayName="FormFloating";const ae=r.forwardRef(({controlId:a,as:t="div",...s},l)=>{const o=r.useMemo(()=>({controlId:a}),[a]);return e.jsx(M.Provider,{value:o,children:e.jsx(t,{...s,ref:l})})});ae.displayName="FormGroup";const Ne=r.forwardRef(({as:a="label",bsPrefix:t,column:s=!1,visuallyHidden:l=!1,className:o,htmlFor:c,...h},x)=>{const{controlId:p}=r.useContext(M);t=v(t,"form-label");let d="col-form-label";typeof s=="string"&&(d=`${d} ${d}-${s}`);const f=y(o,t,l&&"visually-hidden",s&&d);return c=c||p,s?e.jsx(W,{ref:x,as:"label",className:f,htmlFor:c,...h}):e.jsx(a,{ref:x,className:f,htmlFor:c,...h})});Ne.displayName="FormLabel";const Ce=r.forwardRef(({bsPrefix:a,className:t,id:s,...l},o)=>{const{controlId:c}=r.useContext(M);return a=v(a,"form-range"),e.jsx("input",{...l,type:"range",ref:o,className:y(t,a),id:s||c})});Ce.displayName="FormRange";const be=r.forwardRef(({bsPrefix:a,size:t,htmlSize:s,className:l,isValid:o=!1,isInvalid:c=!1,id:h,...x},p)=>{const{controlId:d}=r.useContext(M);return a=v(a,"form-select"),e.jsx("select",{...x,size:s,ref:p,className:y(l,a,t&&`${a}-${t}`,o&&"is-valid",c&&"is-invalid"),id:h||d})});be.displayName="FormSelect";const ke=r.forwardRef(({bsPrefix:a,className:t,as:s="small",muted:l,...o},c)=>(a=v(a,"form-text"),e.jsx(s,{...o,ref:c,className:y(t,a,l&&"text-muted")})));ke.displayName="FormText";const we=r.forwardRef((a,t)=>e.jsx(_,{...a,ref:t,type:"switch"}));we.displayName="Switch";const ba=Object.assign(we,{Input:_.Input,Label:_.Label}),Fe=r.forwardRef(({bsPrefix:a,className:t,children:s,controlId:l,label:o,...c},h)=>(a=v(a,"form-floating"),e.jsxs(ae,{ref:h,className:y(t,a),controlId:l,...c,children:[s,e.jsx("label",{htmlFor:l,children:o})]})));Fe.displayName="FloatingLabel";const ka={_ref:O.any,validated:O.bool,as:O.elementType},te=r.forwardRef(({className:a,validated:t,as:s="form",...l},o)=>e.jsx(s,{...l,ref:o,className:y(a,t&&"was-validated")}));te.displayName="Form";te.propTypes=ka;const i=Object.assign(te,{Group:ae,Control:Ca,Floating:ge,Check:_,Switch:ba,Label:Ne,Text:ke,Range:Ce,Select:be,FloatingLabel:Fe}),Me=r.forwardRef(({bsPrefix:a,active:t,disabled:s,eventKey:l,className:o,variant:c,action:h,as:x,...p},d)=>{a=v(a,"list-group-item");const[f,b]=ea({key:aa(l,p.href),active:t,...p}),N=P(F=>{if(s){F.preventDefault(),F.stopPropagation();return}f.onClick(F)});s&&p.tabIndex===void 0&&(p.tabIndex=-1,p["aria-disabled"]=!0);const g=x||(h?p.href?"a":"button":"div");return e.jsx(g,{ref:d,...p,...f,onClick:N,className:y(o,a,b.isActive&&"active",s&&"disabled",c&&`${a}-${c}`,h&&`${a}-action`)})});Me.displayName="ListGroupItem";const Ie=r.forwardRef((a,t)=>{const{className:s,bsPrefix:l,variant:o,horizontal:c,numbered:h,as:x="div",...p}=ta(a,{activeKey:"onSelect"}),d=v(l,"list-group");let f;return c&&(f=c===!0?"horizontal":`horizontal-${c}`),e.jsx(na,{ref:t,...p,as:x,className:y(s,d,o&&`${d}-${o}`,f&&`${d}-${f}`,h&&`${d}-numbered`)})});Ie.displayName="ListGroup";const D=Object.assign(Ie,{Item:Me});var Y;function fe(a){if((!Y&&Y!==0||a)&&ye){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Y=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Y}function wa(){return r.useState(null)}const Re=r.forwardRef(({className:a,bsPrefix:t,as:s="div",...l},o)=>(t=v(t,"modal-body"),e.jsx(s,{ref:o,className:y(a,t),...l})));Re.displayName="ModalBody";const ne=r.forwardRef(({bsPrefix:a,className:t,contentClassName:s,centered:l,size:o,fullscreen:c,children:h,scrollable:x,...p},d)=>{a=v(a,"modal");const f=`${a}-dialog`,b=typeof c=="string"?`${a}-fullscreen-${c}`:`${a}-fullscreen`;return e.jsx("div",{...p,ref:d,className:y(f,t,o&&`${a}-${o}`,l&&`${f}-centered`,x&&`${f}-scrollable`,c&&b),children:e.jsx("div",{className:y(`${a}-content`,s),children:h})})});ne.displayName="ModalDialog";const $e=r.forwardRef(({className:a,bsPrefix:t,as:s="div",...l},o)=>(t=v(t,"modal-footer"),e.jsx(s,{ref:o,className:y(a,t),...l})));$e.displayName="ModalFooter";const Se=r.forwardRef(({bsPrefix:a,className:t,closeLabel:s="Close",closeButton:l=!1,...o},c)=>(a=v(a,"modal-header"),e.jsx(sa,{ref:c,...o,className:y(t,a),closeLabel:s,closeButton:l})));Se.displayName="ModalHeader";const Fa=la("h4"),Le=r.forwardRef(({className:a,bsPrefix:t,as:s=Fa,...l},o)=>(t=v(t,"modal-title"),e.jsx(s,{ref:o,className:y(a,t),...l})));Le.displayName="ModalTitle";function Ma(a){return e.jsx(xe,{...a,timeout:null})}function Ia(a){return e.jsx(xe,{...a,timeout:null})}const Te=r.forwardRef(({bsPrefix:a,className:t,style:s,dialogClassName:l,contentClassName:o,children:c,dialogAs:h=ne,"data-bs-theme":x,"aria-labelledby":p,"aria-describedby":d,"aria-label":f,show:b=!1,animation:N=!0,backdrop:g=!0,keyboard:F=!0,onEscapeKeyDown:I,onShow:k,onHide:R,container:A,autoFocus:w=!0,enforceFocus:L=!0,restoreFocus:G=!0,restoreFocusOptions:T,onEntered:q,onExit:n,onExiting:m,onEnter:C,onEntering:j,onExited:$,backdropClassName:S,manager:H,...Be},Ee)=>{const[De,Oe]=r.useState({}),[Ae,se]=r.useState(!1),Q=r.useRef(!1),X=r.useRef(!1),V=r.useRef(null),[z,Ge]=wa(),qe=ra(Ee,Ge),le=P(R),He=oa();a=v(a,"modal");const Ve=r.useMemo(()=>({onHide:le}),[le]);function re(){return H||da({isRTL:He})}function oe(u){if(!ye)return;const B=re().getScrollbarWidth()>0,de=u.scrollHeight>ma(u).documentElement.clientHeight;Oe({paddingRight:B&&!de?fe():void 0,paddingLeft:!B&&de?fe():void 0})}const Z=P(()=>{z&&oe(z.dialog)});va(()=>{ue(window,"resize",Z),V.current==null||V.current()});const ze=()=>{Q.current=!0},Ue=u=>{Q.current&&z&&u.target===z.dialog&&(X.current=!0),Q.current=!1},ce=()=>{se(!0),V.current=ha(z.dialog,()=>{se(!1)})},We=u=>{u.target===u.currentTarget&&ce()},Ye=u=>{if(g==="static"){We(u);return}if(X.current||u.target!==u.currentTarget){X.current=!1;return}R?.()},Ke=u=>{F?I?.(u):(u.preventDefault(),g==="static"&&ce())},_e=(u,B)=>{u&&oe(u),C?.(u,B)},Je=u=>{V.current==null||V.current(),n?.(u)},Qe=(u,B)=>{j?.(u,B),ua(window,"resize",Z)},Xe=u=>{u&&(u.style.display=""),$?.(u),ue(window,"resize",Z)},Ze=r.useCallback(u=>e.jsx("div",{...u,className:y(`${a}-backdrop`,S,!N&&"show")}),[N,S,a]),ie={...s,...De};ie.display="block";const Pe=u=>e.jsx("div",{role:"dialog",...u,style:ie,className:y(t,a,Ae&&`${a}-static`,!N&&"show"),onClick:g?Ye:void 0,onMouseUp:Ue,"data-bs-theme":x,"aria-label":f,"aria-labelledby":p,"aria-describedby":d,children:e.jsx(h,{...Be,onMouseDown:ze,className:l,contentClassName:o,children:c})});return e.jsx(ca.Provider,{value:Ve,children:e.jsx(ia,{show:b,ref:qe,backdrop:g,container:A,keyboard:!0,autoFocus:w,enforceFocus:L,restoreFocus:G,restoreFocusOptions:T,onEscapeKeyDown:Ke,onShow:k,onHide:R,onEnter:_e,onEntering:Qe,onEntered:q,onExit:Je,onExiting:m,onExited:Xe,manager:re(),transition:N?Ma:void 0,backdropTransition:N?Ia:void 0,renderBackdrop:Ze,renderDialog:Pe})})});Te.displayName="Modal";const U=Object.assign(Te,{Body:Re,Header:Se,Title:Le,Footer:$e,Dialog:ne,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function La(){const a=me(n=>n.cart.items),t=me(n=>n.cart.totalAmount),s=pa(),[l,o]=r.useState(""),[c,h]=r.useState(!1),[x,p]=r.useState(!1),[d,f]=r.useState({number:"",name:"",expiry:"",cvv:""}),[b,N]=r.useState(""),[g,F]=r.useState({accountNumber:"",accountName:"",bankName:""}),[I,k]=r.useState({}),R=n=>{const[m,C]=n.split("/");if(!m||!C||m.length!==2||C.length!==2)return!1;const j=new Date().getFullYear().toString().slice(2),$=new Date().getMonth()+1,S=parseInt(m,10),H=parseInt(C,10);return!(S<1||S>12||H<parseInt(j,10)||H===parseInt(j,10)&&S<$)},A=()=>{const n={};let m=!0;switch(l){case"credit-card":d.number.replace(/\s/g,"").length!==16&&(n.number="Please enter a valid 16-digit card number.",m=!1),d.name.trim().split(/\s+/).length<2&&(n.name="Please enter a first and last name.",m=!1),R(d.expiry)||(n.expiry="Please enter a valid expiry date (MM/YY) that is not in the past.",m=!1),d.cvv.length!==3&&(n.cvv="CVV must be exactly 3 digits.",m=!1);break;case"paypal":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)||(n.paypalEmail="Please enter a valid email address.",m=!1);break;case"bank-transfer":g.bankName.trim()||(n.bankName="Please select a bank from the list.",m=!1),g.accountNumber.length!==10&&(n.accountNumber="Account number must be exactly 10 digits.",m=!1),g.accountName.trim().split(/\s+/).length<2&&(n.accountName="Please enter a first and last name.",m=!1);break;case"cash-on-delivery":break;default:n.paymentMethod="Please select a payment method.",m=!1}return k(n),m},w=n=>{const{name:m,value:C}=n.target;if(k(j=>({...j,[m]:""})),m==="number"){const $=C.replace(/\D/g,"").replace(/(.{4})/g,"$1 ").trim();f(S=>({...S,[m]:$}))}else if(m==="expiry"){let j=C.replace(/\D/g,"");j.length>2&&(j=`${j.slice(0,2)}/${j.slice(2,4)}`),f($=>({...$,[m]:j}))}else m==="cvv"?f(j=>({...j,[m]:C.replace(/\D/g,"").slice(0,3)})):m==="name"?f(j=>({...j,[m]:C})):m==="paypalEmail"?N(C):F(j=>({...j,[m]:C}))},L=n=>{if(n.preventDefault(),p(!0),a.length===0){alert("Your cart is empty! Please add items before checking out.");return}A()&&h(!0)},G=()=>{h(!1)},T=()=>{s(xa.clearCart()),h(!1)},q=n=>{switch(l){case"credit-card":return e.jsxs("div",{className:"mt-3 p-3 border rounded",children:[e.jsx("h6",{children:"Credit Card Details"}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Card Number"}),e.jsx(i.Control,{type:"text",placeholder:"1234 5678 9012 3456",name:"number",value:d.number,onChange:w,isInvalid:!!n.number,maxLength:"19",required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.number})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Cardholder Name"}),e.jsx(i.Control,{type:"text",placeholder:"John Doe",name:"name",value:d.name,onChange:w,isInvalid:!!n.name,required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.name})]}),e.jsxs(he,{children:[e.jsx(W,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Expiry Date"}),e.jsx(i.Control,{type:"text",placeholder:"MM/YY",name:"expiry",value:d.expiry,onChange:w,isInvalid:!!n.expiry,maxLength:"5",required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.expiry})]})}),e.jsx(W,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"CVV"}),e.jsx(i.Control,{type:"text",placeholder:"123",name:"cvv",value:d.cvv,onChange:w,isInvalid:!!n.cvv,maxLength:"3",required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.cvv})]})})]})]});case"paypal":return e.jsxs("div",{className:"mt-3 p-3 border rounded",children:[e.jsx("h6",{children:"PayPal Details"}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"PayPal Email"}),e.jsx(i.Control,{type:"email",placeholder:"your@email.com",name:"paypalEmail",value:b,onChange:w,isInvalid:!!n.paypalEmail,required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.paypalEmail})]})]});case"bank-transfer":return e.jsxs("div",{className:"mt-3 p-3 border rounded",children:[e.jsx("h6",{children:"Bank Transfer Details"}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Bank Name"}),e.jsxs(i.Select,{name:"bankName",value:g.bankName,onChange:w,isInvalid:!!n.bankName,required:!0,children:[e.jsx("option",{value:"",children:"Select a bank"}),e.jsx("option",{value:"Chase Bank",children:"Chase Bank"}),e.jsx("option",{value:"Bank of America",children:"Bank of America"}),e.jsx("option",{value:"Wells Fargo",children:"Wells Fargo"}),e.jsx("option",{value:"Citibank",children:"Citibank"}),e.jsx("option",{value:"HSBC",children:"HSBC"}),e.jsx("option",{value:"Other",children:"Other"})]}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.bankName})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Account Number"}),e.jsx(i.Control,{type:"text",placeholder:"1234567890",name:"accountNumber",value:g.accountNumber,onChange:w,isInvalid:!!n.accountNumber,maxLength:"10",required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.accountNumber})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Account Name"}),e.jsx(i.Control,{type:"text",placeholder:"John Doe",name:"accountName",value:g.accountName,onChange:w,isInvalid:!!n.accountName,required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:n.accountName})]})]});case"cash-on-delivery":return e.jsxs("div",{className:"mt-3 p-3 border rounded",children:[e.jsx("h6",{children:"Cash on Delivery"}),e.jsx("p",{className:"mb-0",children:"Pay with cash when your order is delivered."})]});default:return null}};return e.jsxs(fa,{className:"my-5",children:[e.jsx("h1",{className:"mb-4",children:"Checkout"}),e.jsxs(he,{children:[e.jsx(W,{lg:8,className:"mb-4",children:e.jsxs(E,{className:"mb-4",children:[e.jsx(E.Header,{as:"h5",children:"Order Summary"}),e.jsx(E.Body,{children:e.jsxs(D,{variant:"flush",children:[a.map(n=>e.jsxs(D.Item,{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"fw-bold",children:n.name}),e.jsxs("span",{className:"text-muted ms-2",children:["x",n.quantity]})]}),e.jsxs("span",{children:["$",n.totalPrice.toFixed(2)]})]},n.id)),e.jsxs(D.Item,{className:"d-flex justify-content-between fw-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",t.toFixed(2)]})]})]})})]})}),e.jsx(W,{lg:4,children:e.jsxs(E,{children:[e.jsx(E.Header,{as:"h5",children:"Payment Method"}),e.jsx(E.Body,{children:e.jsxs(i,{noValidate:!0,validated:x,onSubmit:L,children:[e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Select Payment Method"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(i.Check,{type:"radio",id:"credit-card",label:"Credit Card",name:"paymentMethod",value:"credit-card",checked:l==="credit-card",onChange:n=>{o(n.target.value),k({})},className:"mb-2",required:!0}),e.jsx(i.Check,{type:"radio",id:"paypal",label:"PayPal",name:"paymentMethod",value:"paypal",checked:l==="paypal",onChange:n=>{o(n.target.value),k({})},className:"mb-2",required:!0}),e.jsx(i.Check,{type:"radio",id:"bank-transfer",label:"Bank Transfer",name:"paymentMethod",value:"bank-transfer",checked:l==="bank-transfer",onChange:n=>{o(n.target.value),k({})},className:"mb-2",required:!0}),e.jsx(i.Check,{type:"radio",id:"cash-on-delivery",label:"Cash on Delivery",name:"paymentMethod",value:"cash-on-delivery",checked:l==="cash-on-delivery",onChange:n=>{o(n.target.value),k({})},required:!0}),e.jsx("div",{className:`text-danger mt-2 ${!l&&x?"d-block":"d-none"}`,children:"Please select a payment method."})]})]}),q(I),e.jsx(pe,{variant:"primary",size:"lg",className:"w-100 mt-3",type:"submit",children:"Complete Payment"})]})})]})})]}),e.jsxs(U,{show:c,onHide:G,centered:!0,children:[e.jsx(U.Header,{closeButton:!0,children:e.jsx(U.Title,{children:"Order Confirmed!"})}),e.jsxs(U.Body,{children:[e.jsx("p",{children:"Thank you for your purchase!"}),e.jsxs("p",{children:["Your order number is #",Math.floor(Math.random()*1e6)]}),e.jsxs(D,{variant:"flush",children:[a.map(n=>e.jsxs(D.Item,{children:[n.name," x ",n.quantity," - $",n.totalPrice.toFixed(2)]},n.id)),e.jsxs(D.Item,{className:"fw-bold",children:["Total: $",t.toFixed(2)]})]}),e.jsxs("p",{className:"mt-3",children:["Payment Method: ",l.replace(/-/g," ")]})]}),e.jsx(U.Footer,{className:"justify-content-center",children:e.jsx(pe,{variant:"success",as:ya,to:"/",onClick:T,children:"Back to Home"})})]})]})}export{La as default};
