import{D as w,d as M,r as h,e as k,f as B,g as I,j as s,h as C,i as $,u as E,a as A,k as S,C as f,L as g,R as T,b as N,B as u,c as j}from"./index-Dh5kSsyb.js";import{f as L}from"./api-UThzpGRo.js";import{B as x}from"./Button-JUqdbHoz.js";import{I as R}from"./Image-wnRRjjLi.js";function z(n,e=w,o=M){const i=[];return Object.entries(n).forEach(([c,t])=>{t!=null&&(typeof t=="object"?e.forEach(r=>{const l=t[r];if(l!=null){const m=r!==o?`-${r}`:"";i.push(`${c}${m}-${l}`)}}):i.push(`${c}-${t}`))}),i}const b=h.forwardRef(({as:n="div",bsPrefix:e,className:o,direction:i,gap:c,...t},r)=>{e=k(e,i==="horizontal"?"hstack":"vstack");const l=B(),m=I();return s.jsx(n,{...t,ref:r,className:C(o,e,...z({gap:c},l,m))})});b.displayName="Stack";function _(){const{id:n}=$(),[e,o]=h.useState(null),[i,c]=h.useState(!0),t=E(),r=A(a=>a.cart.items.find(d=>d.id===n)),l=r?r.quantity:0;h.useEffect(()=>{(async()=>{try{const d=await L(n);o(d),c(!1)}catch(d){console.error("Error loading meal:",d),c(!1)}})()},[n]);const m=()=>{t(j.addItem({id:e.idMeal,name:e.strMeal,price:9.99,image:e.strMealThumb,category:e.strCategory}))},y=()=>{t(j.addItem({id:e.idMeal}))},v=()=>{t(j.removeItem(e.idMeal))};if(i)return s.jsx(S,{});if(!e)return s.jsxs(f,{className:"text-center py-5",children:[s.jsx("h2",{className:"mb-3",children:"Meal Not Found"}),s.jsx(x,{as:g,to:"/menu",variant:"primary",children:"Back to Menu"})]});const p=[];for(let a=1;a<=20;a++)e[`strIngredient${a}`]&&p.push({ingredient:e[`strIngredient${a}`],measure:e[`strMeasure${a}`]});return s.jsxs(f,{className:"py-3 pb-6",children:[" ",s.jsx(x,{as:g,to:"/menu",variant:"outline-secondary",size:"sm",className:"mb-3",children:"← Back to Menu"}),s.jsxs(T,{className:"g-4",children:[s.jsx(N,{md:7,children:s.jsx(R,{src:e.strMealThumb,alt:e.strMeal,fluid:!0,rounded:!0,className:"shadow-sm w-100",style:{maxHeight:"640px",objectFit:"cover",border:"1px solid #f0f0f0"}})}),s.jsx(N,{md:5,children:s.jsxs(b,{gap:3,children:[s.jsxs("div",{children:[s.jsx("h1",{className:"h3 fw-bold mb-2",children:e.strMeal}),s.jsxs("div",{children:[s.jsx(u,{bg:"secondary",className:"me-2",children:e.strCategory}),s.jsx(u,{bg:"info",children:e.strArea})]})]}),s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsx("span",{className:"fs-4 fw-bold text-danger",children:"$9.99"}),s.jsx("span",{className:"text-muted",children:"|"}),s.jsxs("span",{className:"text-muted",children:[p.length," ingredients"]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"fw-bold mb-2",children:"Ingredients"}),s.jsx("div",{className:"d-flex flex-wrap gap-2",children:p.map((a,d)=>s.jsxs(u,{bg:"light",text:"dark",className:"border px-3 py-2",children:[a.ingredient," ",s.jsxs("span",{className:"text-muted",children:["(",a.measure,")"]})]},d))})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"fw-bold mb-2",children:"Instructions"}),s.jsx("div",{className:"text-muted",style:{whiteSpace:"pre-line"},children:e.strInstructions})]})]})})]}),s.jsx("div",{className:"bg-white sticky-bottom-above-footer p-3 border-top shadow-sm",children:s.jsx(f,{children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"mb-0",children:e.strMeal}),s.jsx("span",{className:"text-danger fw-bold fs-5",children:"$9.99"})]}),l===0?s.jsx(x,{variant:"danger",size:"lg",onClick:m,className:"px-4 py-2 fw-bold",children:"Add to Cart"}):s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsx(x,{variant:"outline-danger",size:"lg",onClick:v,className:"px-4 py-2 fw-bold",children:s.jsx("i",{className:"bi bi-dash"})}),s.jsx("span",{className:"fw-bold px-4 fs-5",children:l}),s.jsx(x,{variant:"danger",size:"lg",onClick:y,className:"px-4 py-2 fw-bold",children:s.jsx("i",{className:"bi bi-plus"})})]})]})})})]})}export{_ as default};
